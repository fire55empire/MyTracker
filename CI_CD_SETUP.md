# üöÄ CI/CD Setup Instructions

## ‚úÖ –ß—Ç–æ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

1. ‚úÖ **Detekt** - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∫–æ–¥–∞ –¥–ª—è Kotlin
2. ‚úÖ **GitHub Actions CI** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞, —Ç–µ—Å—Ç—ã, lint
3. ‚úÖ **GitHub Actions Release** - —Ä—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞ —Ä–µ–ª–∏–∑–Ω—ã—Ö APK
4. ‚úÖ **Gradle** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫

---

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

### 1. –û–±–Ω–æ–≤–∏—Ç–µ badge –≤ README.md

–û—Ç–∫—Ä–æ–π—Ç–µ `README.md` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ:
```markdown
![Android CI](https://github.com/–ó–ê–ú–ï–ù–ò–¢–ï_–ù–ê_–í–ê–®_USERNAME/–ó–ê–ú–ï–ù–ò–¢–ï_–ù–ê_–ù–ê–ó–í–ê–ù–ò–ï_–†–ï–ü–û/workflows/Android%20CI/badge.svg)
```

–ù–∞:
```markdown
![Android CI](https://github.com/–í–ê–®_USERNAME/MyTracker/workflows/Android%20CI/badge.svg)
```

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤–∞—à username `firee`:
```markdown
![Android CI](https://github.com/firee/MyTracker/workflows/Android%20CI/badge.svg)
```

---

### 2. –ó–∞–ø—É—à—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ GitHub

```bash
git add .
git commit -m "Add CI/CD: GitHub Actions, Detekt, Lint"
git push origin main
```

---

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ CI —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ó–∞–π–¥–∏—Ç–µ –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **"Actions"**
3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–π workflow **"Android CI"**
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–æ–±—ã—á–Ω–æ 5-10 –º–∏–Ω—É—Ç)
5. ‚úÖ **–ó–µ–ª—ë–Ω–∞—è –≥–∞–ª–∫–∞** = –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!

---

## üîß –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –ø—É—à–µ–º

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø—É—à–∏—Ç—å –∫–æ–¥, –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ:

### –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ä–∞–∑—É:
```bash
./gradlew build
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã:
```bash
./gradlew test
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å Android Lint:
```bash
./gradlew lintDebug
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å Detekt:
```bash
./gradlew detekt
```

–û—Ç—á—ë—Ç—ã –±—É–¥—É—Ç –≤:
- **Lint**: `app/build/reports/lint-results-debug.html`
- **Detekt**: `app/build/reports/detekt/detekt.html`

---

## üéØ –†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞ —Ä–µ–ª–∏–∑–∞

### –ß–µ—Ä–µ–∑ GitHub UI:

1. –ó–∞–π–¥–∏—Ç–µ –≤ **Actions** ‚Üí **Build Release APK**
2. –ù–∞–∂–º–∏—Ç–µ **"Run workflow"**
3. –í–≤–µ–¥–∏—Ç–µ –≤–µ—Ä—Å–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1.0.0`)
4. –ù–∞–∂–º–∏—Ç–µ **"Run workflow"**
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
6. –°–∫–∞—á–∞–π—Ç–µ APK –∏–∑ **Artifacts**

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:

```bash
./gradlew assembleRelease
```

APK –±—É–¥–µ—Ç –≤: `app/build/outputs/apk/release/app-release-unsigned.apk`

---

## üìä –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç CI:

‚úÖ **Build** - –∫–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞  
‚úÖ **Unit Tests** - —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã  
‚úÖ **Android Lint** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –Ω–∞ Android-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã  
‚úÖ **Detekt** - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ Kotlin –∫–æ–¥–∞  

---

## üîê (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ü–æ–¥–ø–∏—Å—å APK

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ APK –¥–ª—è —Ä–µ–ª–∏–∑–∞:

1. –°–æ–∑–¥–∞–π—Ç–µ keystore:
```bash
keytool -genkey -v -keystore mytracker.keystore -alias mytracker -keyalg RSA -keysize 2048 -validity 10000
```

2. –î–æ–±–∞–≤—å—Ç–µ –≤ GitHub Secrets:
   - `KEYSTORE_FILE` (base64 keystore)
   - `KEYSTORE_PASSWORD`
   - `KEY_ALIAS`
   - `KEY_PASSWORD`

3. –û–±–Ω–æ–≤–∏—Ç–µ `release.yml` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤

---

## ‚ùì Troubleshooting

### CI –ø–∞–¥–∞–µ—Ç –Ω–∞ —Å–±–æ—Ä–∫–µ:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ `./gradlew build` –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ GitHub Actions

### Detekt –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–æ–±–ª–µ–º—ã:
- –û—Ç–∫—Ä–æ–π—Ç–µ –æ—Ç—á—ë—Ç: `app/build/reports/detekt/detekt.html`
- –ò—Å–ø—Ä–∞–≤—å—Ç–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –≤ `app/detekt.yml`

### Lint –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–æ–±–ª–µ–º—ã:
- –û—Ç–∫—Ä–æ–π—Ç–µ –æ—Ç—á—ë—Ç: `app/build/reports/lint-results-debug.html`
- –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç —Å–±–æ—Ä–∫—É

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
./gradlew clean

# –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
./gradlew build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
./gradlew test

# –°–æ–±—Ä–∞—Ç—å debug APK
./gradlew assembleDebug

# –°–æ–±—Ä–∞—Ç—å release APK
./gradlew assembleRelease

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞—á–∏
./gradlew tasks
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –∑–∞–¥–∞–Ω–∏—è:

- [x] GitHub Workflows –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [x] Lint –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- [x] Gradle –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω
- [x] Detekt –ø–æ–¥–∫–ª—é—á—ë–Ω
- [x] –†—É—á–Ω—ã–µ Github Actions –¥–ª—è —Ä–µ–ª–∏–∑–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –ü–µ—Ä–≤—ã–π –ø—É—à —Å –∑–µ–ª—ë–Ω–æ–π –≥–∞–ª–∫–æ–π ‚úÖ

**–ü–æ—Å–ª–µ –ø—É—à–∞ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ GitHub Actions –∏ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å—ë –∑–µ–ª—ë–Ω–æ–µ!** üéâ

